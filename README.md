# Week 1 Homework: Basic AI Text Responder

## 🎯 Learning Objectives

By completing this homework, you will:
- **Master Spring AI Integration**: Learn to integrate OpenAI with Spring Boot using Spring AI framework
- **Understand REST API Design**: Build a well-structured REST endpoint following Spring Boot best practices
- **Practice Configuration Management**: Configure AI model parameters using Spring Boot properties
- **Implement Error Handling**: Create robust error handling for AI service failures
- **Apply Logging Best Practices**: Implement appropriate logging for debugging and monitoring

## 📋 Task Description

Build a simple Spring Boot application that exposes an API for generating text using OpenAI. This homework focuses on getting comfortable with OpenAI API calls from a Spring application using the Spring AI framework.

You will create an endpoint that accepts a prompt from the user and returns a completion generated by an OpenAI model. This serves as the foundation for understanding AI integration patterns in Spring Boot applications.

## 🔧 Technical Requirements

### Core Features
- **Spring Boot Service**: Complete Spring Boot application with Spring AI integration
- **REST Endpoint**: `POST /generate` endpoint accepting JSON requests
- **OpenAI Integration**: Use Spring AI's ChatClient to call OpenAI API
- **Configuration**: Externalized configuration via application.yml
- **Error Handling**: Comprehensive error handling with proper HTTP status codes
- **Logging**: Structured logging of requests/responses (excluding sensitive data)

### Implementation Details
- Use `gpt-3.5-turbo` model (cost-effective for learning)
- Configure temperature, max tokens, and other parameters via properties
- Implement input validation for prompts
- Handle API failures gracefully
- Return structured JSON responses

## 🚀 Getting Started

### Prerequisites
- Java 21+
- Maven 3.6+
- OpenAI API Key
- IDE (IntelliJ IDEA recommended)

### Environment Setup
1. **Clone this repository**
2. **Set up OpenAI API Key**:
   ```bash
   export OPENAI_API_KEY=your-api-key-here
   ```
3. **Run the application**:
   ```bash
   ./mvnw spring-boot:run
   ```

### Project Structure
```
src/main/java/com/coherentsolutions/homework/week1/
├── Week1HomeworkApplication.java     # Main Spring Boot application
├── controller/
│   └── TextGeneratorController.java  # REST endpoint (implement this)
├── service/
│   ├── TextGeneratorService.java     # Service interface
│   └── impl/
│       └── OpenAITextGeneratorService.java  # Service implementation (implement this)
├── dto/
│   ├── GenerateRequest.java          # Request DTO (provided)
│   ├── GenerateResponse.java         # Response DTO (provided)
│   └── ErrorResponse.java            # Error DTO (provided)
├── config/
│   └── OpenAIConfig.java            # Configuration (implement this)
└── exception/
    ├── TextGenerationException.java  # Custom exception (provided)
    └── GlobalExceptionHandler.java   # Exception handler (implement this)
```

## ✅ Implementation Checklist

### Phase 1: Basic Setup
- [ ] Update package structure to `com.coherentsolutions.homework.week1`
- [ ] Configure OpenAI API key in application.yml
- [ ] Verify application starts without errors

### Phase 2: Core Implementation
- [ ] Implement `TextGeneratorController.generateText()` method
- [ ] Implement `OpenAITextGeneratorService.generateText()` method
- [ ] Configure `ChatClient` bean in `OpenAIConfig`
- [ ] Add proper input validation

### Phase 3: Error Handling & Enhancement
- [ ] Implement `GlobalExceptionHandler` for centralized error handling
- [ ] Add comprehensive logging
- [ ] Test various error scenarios
- [ ] Validate configuration parameters

### Phase 4: Testing & Validation
- [ ] Test with different prompts
- [ ] Verify error handling works correctly
- [ ] Check logging output
- [ ] Validate API response format

## 🧪 Testing Your Implementation

### Manual Testing
```bash
# Test successful generation
curl -X POST http://localhost:8080/generate \
  -H "Content-Type: application/json" \
  -d '{"prompt": "Tell me a fun fact about Spring Boot"}'

# Test error handling
curl -X POST http://localhost:8080/generate \
  -H "Content-Type: application/json" \
  -d '{"prompt": ""}'
```

### Expected Response Format
```json
{
  "response": "Spring Boot was first released in 2014...",
  "timestamp": "2024-01-15T10:30:00",
  "model": "gpt-3.5-turbo"
}
```

## 📚 Key Learning Points

- **Spring AI Framework**: Understanding high-level AI integration abstractions
- **Configuration Externalization**: Using Spring Boot properties for AI model configuration
- **Error Boundary Patterns**: Implementing robust error handling for external API calls
- **REST API Best Practices**: Creating well-structured endpoints with proper HTTP semantics
- **Logging Strategies**: Implementing structured logging without exposing sensitive data

## 🔍 Common Pitfalls to Avoid

- Don't hardcode API keys in source code
- Don't ignore input validation
- Don't log sensitive information (API keys, personal data)
- Don't make redundant API calls
- Don't ignore proper HTTP status codes
- Don't forget to handle API rate limits

## 📊 Evaluation

Your implementation will be evaluated based on the criteria outlined in [RUBRIC.md](RUBRIC.md). Please review the grading rubric before submission to ensure your solution meets all requirements.

## 🆘 Need Help?

- Check the TODO comments in the scaffolding code for implementation hints
- Review the Spring AI documentation: https://docs.spring.io/spring-ai/reference/
- Examine the provided DTO classes for expected data structures
- Test your implementation incrementally

## 📤 Submission

Submit your completed implementation ensuring all TODO items are addressed and the application runs successfully with proper error handling and logging.